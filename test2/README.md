# 实验二:图书管理系统用例建模
|    学号    |       班级       |      姓名     |照片|
|:-------:|:-------------:|:----------:|:-----------:|
|  201610414414  |     软件工程4班    |   穆峥言   |<img src="https://github.com/mzy1997/is_analysis/blob/master/test1/5617531AD9394A6243FCDEEBF0F683B1.jpg" width="200" height="300" />|
## 1. 图书管理系统的用例关系图
### 1.1 用例图PlantUML源码如下：
```
@startuml
left to right direction
:借书人: as user <<Human>>
user -->(借书)
user -->(查询书籍)
user -->(书籍预定)
user ->(还书)
user  -left->(查询借阅情况)
(借书) ..> (查询书籍) :<<include>>
(书籍预定) ..>(查询书籍) :<<include>>
(续借) -> (借书) :<<include>>

left to right direction
actor 图书管理员 as admin
admin -->(借出处理)
admin ->(归还处理)
admin -->(维护图书信息)
admin -->(维护借书人信息)
admin -->(预定处理)
(超时处理) ..>(归还处理):<<extend>>
(超时提醒) -->(超时处理):<<include>>
(逾期交钱) -> (超时处理) :<<include>>
(拉黑借书人) -->(维护借书人信息):<<extend>>
@enduml
```
### 1.2. 用例图如下：
<img src="https://github.com/mzy1997/is_analysis/blob/master/test2/libSys_User.png" />

## 2. 参与者说明：
### - 图书管理员
主要职责:负责处理借书人提交的借出、归还和预定请求，维护图书与借书人的信息
### - 借书人
主要职责:查询图书馆内的书籍，对书籍发出借出归还请求，查询自己的借阅情况
## 3. 用例规约表: 
### 3.1 借出图书用例规约表
用例名称 | 还书操作  
-|-
参与者 |  图书管理员(主要参与人)、借书人(次要参与人)
前置条件 |  图书管理员已被识别和授权，进入借还书页面
后置条件 | 存储还书记录，更新库存数量，所借图书状态为在库
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员打开借还书页面；<br/>3. 管理员扫描图书读入图书信息；<br/>4. 管理员点击还书按钮，在弹出的确认窗口点击确认按钮；<br/>5. 系统检测信息图书信息，确认是否可以进行还书操作；<br/>6. 系统进行还书操作，更改数据库；<br/>7. 提示还书成功；
备选事件流 | 2a.非法读者<br/>&ensp;&ensp;&ensp;&ensp;1.系统读入图书信息错误时，提示图书信息错误；<br/>2b.读者借书数已达限额<br/>&ensp;&ensp;&ensp;&ensp;1.系统提示错误并拒绝接受输入<br/>5a.读者借书数已达限额<br/>&ensp;&ensp;&ensp;&ensp;1.系统提示，并要求结束输入<br/>&ensp;&ensp;&ensp;&ensp;2.图书管理员确认借书完成<br/>5b.读者有该数的预定记录<br/>&ensp;&ensp;&ensp;&ensp;1.删除该书的预定信息<br/>&ensp;&ensp;&ensp;&ensp;2.图书管理员完成并确认
备注 | 图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的
### 3.2 归还图书用例规约表
用例名称 | 归还图书  
-|-
参与者 |  图书管理员(主要参与人)、借书人(次要参与人)
前置条件 |  图书管理员已被识别和授权
后置条件 | 存储借书记录，更新库存数量，所借图书状态为借出
主事件流 | 1.图书管理员将读者借书卡提供给系统;<br/>2.系统验证读者身份和借书条件<br/>3.图书管理员将读者所借图书输入系统<br/>4.系统记录借书信息，并且修改图书的状态和此种书的可借数量<br/>5.系统累加读者的借书数量<br/>6.重复3-5，直到图书管理员确认全部图书登记完毕<br/>7.系统打印借书清单，交易成功完成
备选事件流 | 1.系统提示错误并拒绝接受输入<br/>2.系统读入图书信息后检测到图书未被借阅时，显示该图书不能进行还书操作；<br/>3.系统检测到图书超期时，提示需要食堂卡进行图书超期罚款扣费；<br/>4.还书操作时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示还书失败<br/>
### 3.3 超期罚款用例规约表
用例名称 | 超期罚款  
-|-
参与者 |  图书管理员(主要参与人)、借书人(次要参与人)
前置条件 |  图书管理员已被识别和授权，所借图书已被扫描并被检测借阅情况
后置条件 | 系统更新图书信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员打开借还书页面；<br/>3. 管理员扫描图书读入图书信息；<br/>4. 管理员扫描食堂卡读入读者信息；<br/>5. 管理员点击还书按钮，在弹出的确认窗口点击确认按钮；<br/>6. 系统检测读者信息图书信息，确认是否可以进行还书操作；<br/>7. 系统进行超期罚款操作；<br/>8. 系统进行还书操作，更改数据库；<br/>9. 提示还书成功。
备选事件流 | 1.系统提示错误并拒绝接受输入<br/>2.系统读入图书信息后检测到图书未被借阅时，显示该图书不能进行还书操作；<br/>3.系统检测到读者卡内金额不足以进行罚款扣费时，提示卡内余额不足；<br/>4.还书操作时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示还书失败<br/>5.超期罚款操作时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示扣费失败
### 3.4 查询图书用例规约表
用例名称 | 查询图书  
-|-
参与者 |  借书人
前置条件 |  借书人已经注册成图书馆系统用户
后置条件 | 页面将返回到学院图书馆系统主页面
主事件流 | 1. 借书人打开学院图书馆系统的页面；<br/>2. 借书人进入查询书库页面；<br/>3. 借书人输入要查询的书名/编者/版本/分类..；<br/>4. 借书人点击确定查找；<br/>5. 系统开始搜索相关的图书，若有则显示所有相关图书的条目，若无则提示“非常抱歉，暂时没有此书目”；
备选事件流 | 1.系统提示“非常抱歉，暂时没有此书目”后，返回查询书库页面<br/>2.系统搜索时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，并提示“系统异常，请联系管理员”<br/>
### 3.5 图书预定用例规约表
用例名称 | 图书预定  
-|-
参与者 |  借书人(主要参与人)、图书管理员(次要参与人)
前置条件 |  借书人已经注册成图书馆系统用户，图书管理员已被识别和授权
后置条件 | 系统更新图书信息
主事件流 | 1. 借书人打开学院图书馆系统的页面；<br/>2. 借书人进入图书预定页面；<br/>3. 借书人输入要预定的书名/编者/版本...；<br/>4. 借书人点击确定查找；<br/>5. 借书人在结果中选择需要预定的图书进行预定；<br/>6. 双击选择要预定的图书，确认提交预定；<br/>7.图书管理员进入图书预定页面；<br/>8. 图书管理员对预定请求作出确认回应；<br/>9. 提示预定成功。
备选事件流 | 1.系统提示错误并拒绝接受输入<br/>2.系统若无能订购的图书则返回“没有剩余图书预定”；<br/>3.系统搜索时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，并提示“系统异常，请联系管理员”；
### 3.6 图书续借用例规约表
用例名称 | 图书续借  
-|-
参与者 |  借书人
前置条件 |  借书人已经注册成图书馆系统用户
后置条件 | 系统更新图书信息
主事件流 | 1. 借书人打开学院图书馆系统的页面；<br/>2. 借书人进入图书续借页面；<br/>3. 借书人选择要续借的图书，并点击续借；<br/>4. 系统核对用户信息，若可以续借则提示“续借成功”，并对图书续接一个月，否则提示“超期无法完成续借”；<br/>
备选事件流 | 1.系统核对时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，并提示“系统异常，请联系管理员”
### 3.7 新增图书信息用例规约表
用例名称 | 新增图书信息  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 页面提示导入成功信息，系统更新图书信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员打开ISBN导入图书信息页面；<br/>3. 管理员对图书进行扫码,服务端做到自动读取导入图书信息的功能,或者可以手动录入（图书信息需对应网络上已有的内容）<br/>4. 系统获取条形码信息，获取图书相关信息，保存至数据库；<br/>5. 提示成功信息；<br/>6. 系统检测读者信息图书信息，确认是否可以进行还书操作；<br/>7. 系统进行超期罚款操作；<br/>8. 系统进行还书操作，更改数据库；<br/>9. 提示还书成功。
备选事件流 | 1.系统通过条形码信息获取不到图书信息时，提示图书信息获取失败；<br/>2.系统获取或者保存图书信息时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示导入图书信息失败<br/>
### 3.8 修改图书用例规约表
用例名称 | 修改图书信息  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 页面提示导入成功信息，系统更新图书信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员进入图书信息管理页面，页面显示图书的基本信息；<br/>3. 管理员选择需要修改的图书，打开修改界面，进行修改；<br/>4. 点击确定按钮完成修改；<br/>5. 返回图书信息管理界面；<br/>6. 修改后的图书信息存入数据库；<br/>
备选事件流 | 1.管理员录入修改的信息后，如果信息错误，提示修改错误信息，不能确认提交修改信息；<br/>2.管理员点击取消按钮或者返回按钮则取消修改图书信息，返回图书管理页面<br/>3.用户修改时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示修改失败
### 3.9 删除图书用例规约表
用例名称 | 删除图书信息  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 系统更新图书信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员点击进入图书管理页面，页面显示图书的基本信息；<br/>3. 选择任意一个或多个目录，点击“删除图书”按钮；<br/>4. 系统将会弹出删除确认对话框，询问是否确定作废图书；<br/>5. 管理员选择‘确认’，删除图书信息。 如果该图书下有外借记录，将无法删除图书；否则，可以删除目录；<br/>6. 删除后更新数据库；<br/>
备选事件流 | 1.管理员可选择‘取消’，以取消当前作废操作，系统并将返回图书管理页面；<br/>2.系统作废图书信息时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示管理员作废失败
### 3.10 用户导入用例规约表
用例名称 | 用户导入  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 系统更新用户信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员打开导入页面；<br/>3. 管理员选择Excel模板下载并填写完整；<br/>4. 选择导入Excel；<br/>5. 系统将验证用户的有效性和重复性，如果都正确则反馈导入数据项，否则反馈导入数据重复项或数据异常项；<br/>6. 确认导入；<br/>
备选事件流 | 1.管理员选择“取消导入”，系统将回到导入页面；<br/>2.户导入时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示导入失败
### 3.10 用户信息修改用例规约表
用例名称 | 用户信息修改  
-|-
参与者 |  借书人(主要参与人)、图书管理员(次要参与人)
前置条件 |  借书人已经注册成图书馆系统用户，图书管理员已被识别和授权
后置条件 | 系统更新用户信息
主事件流 | 1. User打开个人信息维护页面；<br/>2. User输入现密码、并输入你需要修改的昵称(选填)、照片(选填)、邮箱(选填)、QQ(选填)、新密码与密码确认(选填)再选择“修改”；<br/>3. 系统验证现密码的正确性、数据项的合理性、新密码与确认密码的一致性，如果正确则提示成功并返回主页面 ，否则提示用户重新输入；<br/>
备选事件流 | 1.User 选择“重填”，系统将清空输入框信息；<br/>2.User 选择“返回”，该页面将跳转回系统主页面页面；<br/>3.系统修改时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示个人信息维护失败；
### 3.10 用户导入用例规约表
用例名称 | 用户导入  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 系统更新用户信息
主事件流 | 1. 管理员进入学院图书馆系统；<br/>2. 管理员打开导入页面；<br/>3. 管理员选择Excel模板下载并填写完整；<br/>4. 选择导入Excel；<br/>5. 系统将验证用户的有效性和重复性，如果都正确则反馈导入数据项，否则反馈导入数据重复项或数据异常项；<br/>6. 确认导入；<br/>
备选事件流 | 1.管理员选择“取消导入”，系统将回到导入页面；<br/>2.用户导入时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示导入失败
### 3.11 用户删除用例规约表
用例名称 | 用户删除  
-|-
参与者 |  图书管理员
前置条件 |  图书管理员已被识别和授权
后置条件 | 系统更新用户信息
主事件流 |1. 管理员打开用户删除页面；<br/>2. 管理员选择用户，返回用户现有信息；<br/>3. 提交删除；<br/>4. 确认删除；<br/>
备选事件流 | 1.管理员选择“返回”，该页面将跳转回系统主页面；<br/>2.用户删除时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示用户删除失败
